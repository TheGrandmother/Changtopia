def fac(x)
  if x == 1
    return 1
  end
  new_x = x - 1
  return x * fac(new_x)
end

def messageHandler(sender, payload)
  __log(sender, payload)
  return fac(payload)
end

def listenerDude()
  await messageHandler
end

def _entry()
  dudePid = spawn listenerDude()
  __log(11111111)
  __log(_request(dudePid, 5))
  __log(22222222)
  return 0
end
